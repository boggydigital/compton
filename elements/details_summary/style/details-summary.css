/* Safari specific fix, need to file a bug (or find existing one) */
details {
    & > summary {
        &::-webkit-details-marker {
            display: none;
        }
    }
}

@scope (details) {
    :scope {
        /* TODO: re-enable when https://bugs.webkit.org/show_bug.cgi?id=277573 is fixed */
        /*content-visibility: auto;*/

        & > summary {
            cursor: pointer;
            display: flex;
            align-items: center;
            user-select: none;

            &::marker {
                display: none;
            }

            & > svg {
                transform-origin: 50% 50%;
                transition: rotate var(--du-fast) ease-in-out;
            }
        }

        &[open] {
            margin-block-end: var(--mbe);

            & > summary {
                margin-block-end: var(--mbe);

                & > svg {
                    rotate: -45deg;
                }
            }
        }
    }
}

@scope (details.larger) {
    :scope {
        & > summary {
            justify-content: center;
            min-width: max-content;
            max-width: var(--s-maxw);
            margin: auto;
            font-weight: var(--fw-b);
            padding: calc((var(--s-n) + var(--s-s)) / 2) var(--s-n);
            background-color: var(--bg);
            color: var(--fg);
            border-radius: var(--br-l);
            column-gap: var(--s-s);

            & > svg {
                width: calc((var(--s-n) + var(--s-s)) / 2);
                height: calc((var(--s-n) + var(--s-s)) / 2);
                color: var(--cm)
            }
        }
    }
}

@scope (details.smaller) {
    :scope {
        width: 100%;

        &[open] {
            margin-block-end: 0;
        }

        & > summary {
            justify-content: start;
            column-gap: var(--s-xs);
            padding: 0;
            color: unset;

            & > svg {
                width: calc(2em / 3);
                height: calc(2em / 3);
                color: var(--cm)
            }
        }
    }
}



