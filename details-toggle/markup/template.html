<template id="details-{{.OpenClosed}}-template">
    <style>
        details {
            content-visibility: auto;

            & > summary {
                display: flex;
                align-items: center;
                justify-content: center;
                min-width: max-content;
                max-width: calc(var(--xxx-large) * 3);
                margin: auto;
                font-weight: var(--fw-bolder);
                padding: calc((var(--small) + var(--normal))/2) var(--normal);
                background-color: var(--c-bg);
                color: var(--c-fg);
                border-radius: var(--br-large);
                column-gap: var(--small);
                cursor: pointer;
                user-select: none;

                &::-webkit-details-marker {
                    display: none;
                }

                & > svg {
                    width: calc((var(--normal) + var(--small)) / 2);
                    height: calc((var(--normal) + var(--small)) / 2);
                    transform-origin: 50% 50%;
                    transition: rotate var(--du-fast) ease-in-out;
                }
            }
        }

        {{.HostForegroundColor}}
        {{.HostBackgroundColor}}

        :host(:not([data-background-color])) {
            --c-bg: var(--c-highlight)
        }

        :host([data-background-color]) {
            details > summary {
                background-color: var(--c-bg);
            }
        }

        {{.HostSummaryMargin}}
        {{.HostDetailsMargin}}

        details[open] {
            margin-block-end: var(--details-margin);

            & > summary {
                margin-block-end: var(--summary-margin);

                & > svg {
                    rotate: -45deg;
                }
            }
        }

    </style>
    <svg style="display:none">
        <symbol id="plus" viewBox="0 0 100 100" style="fill:currentColor">
            <path d="M 42.5,0h15v42.5h42.5v15h-42.5v42.5h-15v-42.5h-42.5v-15h42.5v-42.5Z"></path>
        </symbol>
    </svg>
    <details {{.OpenClosed}}>
        <summary>
            <svg>
                <use xlink:href="#plus"></use>
            </svg>
            <slot name="summary"></slot>
        </summary>
        <slot name="details"></slot>
    </details>
</template>